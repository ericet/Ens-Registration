(function(){var t={8225:function(t,e,n){"use strict";var a=n(6369),i=function(){var t=this,e=t._self._c;return e("article",[t._m(0),e("section",[e("button",{staticClass:"btn btn-info",attrs:{id:"button"},on:{click:function(e){return t.switchNetwork()}}},[t.account?e("div",[t._v(" "+t._s(t.account)+" ")]):e("div",[t._v("Connect Wallet")])])]),e("section",[e("div",{staticClass:"row"},[e("div",{staticClass:"container-fluid"},[e("form",{staticClass:"card card-sm",on:{submit:function(e){return e.preventDefault(),t.checkName()}}},[e("div",{staticClass:"card-body row no-gutters align-items-center"},[e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],staticClass:"form-control form-control-lg form-control-borderless",attrs:{placeholder:"Enter an ENS Name"},domProps:{value:t.input},on:{input:function(e){e.target.composing||(t.input=e.target.value)}}})]),t._m(1)])])])]),e("br"),t.message?e("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(" "+t._s(t.message)+" ")]):e("div",[t.searched?e("div",[e("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[e("b",[t._v(t._s(t.name)+".eth")]),t._v(" is available! ")]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"input-group flex-nowrap"},[e("input",{staticClass:"form-control",attrs:{type:"number",value:"30",min:"1"},on:{input:function(e){return t.getInput(e)}}}),e("span",{staticClass:"input-group-text"},[t._v("DAYS")])])]),e("div",{staticClass:"card-body"},[e("h2",{staticClass:"card-title text-center"},[t._v(t._s(t.name)+".eth")]),e("hr",{staticClass:"mt-2 mb-3"}),e("h3",{staticClass:"card-text text-center"},[t._v(t._s(t.price)+" ETH for "+t._s(t.days)+" Days")]),e("LoadingButton",{attrs:{register:t.register,commit:t.commit,isLoading:t.isLoading,committed:t.committed,registered:t.registered,name:t.name}})],1)])]):t._e()])])])},s=[function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"distribute-logo",attrs:{state:"4"}},[e("header",[e("h1",[t._v("ENS Registration")]),e("div",{staticClass:"expand"}),e("div",[e("a",{attrs:{target:"_blank",href:"https://twitter.com/ericet369"}},[e("i",{staticClass:"fa fa-twitter",attrs:{"aria-hidden":"true"}})]),e("a",{attrs:{href:"https://github.com/ericet/Ens-Registration",target:"_blank"}},[e("i",{staticClass:"fa fa-github",attrs:{"aria-hidden":"true"}})]),e("a",{attrs:{href:"https://etherscan.io/address/0x434DCffCF7dABd48B284860C27ebd184C91341F5",target:"_blank"}},[e("i",{staticClass:"fa fa-coffee",attrs:{"aria-hidden":"true"}})])])]),e("p",[e("span",{staticStyle:{"font-style":"normal"}},[t._v(" Register ENS Name for a short period of time")])])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-auto"},[e("button",{staticClass:"btn btn-lg btn-success",attrs:{type:"submit"}},[t._v("Search")])])}],r=JSON.parse('[{"inputs":[{"internalType":"contract BaseRegistrar","name":"_base","type":"address"},{"internalType":"contract PriceOracle","name":"_prices","type":"address"},{"internalType":"uint256","name":"_minCommitmentAge","type":"uint256"},{"internalType":"uint256","name":"_maxCommitmentAge","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"name","type":"string"},{"indexed":true,"internalType":"bytes32","name":"label","type":"bytes32"},{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"uint256","name":"cost","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"expires","type":"uint256"}],"name":"NameRegistered","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"name","type":"string"},{"indexed":true,"internalType":"bytes32","name":"label","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"cost","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"expires","type":"uint256"}],"name":"NameRenewed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"oracle","type":"address"}],"name":"NewPriceOracle","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"constant":true,"inputs":[],"name":"MIN_REGISTRATION_DURATION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"string","name":"name","type":"string"}],"name":"available","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes32","name":"commitment","type":"bytes32"}],"name":"commit","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"commitments","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"bytes32","name":"secret","type":"bytes32"}],"name":"makeCommitment","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"bytes32","name":"secret","type":"bytes32"},{"internalType":"address","name":"resolver","type":"address"},{"internalType":"address","name":"addr","type":"address"}],"name":"makeCommitmentWithConfig","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[],"name":"maxCommitmentAge","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"minCommitmentAge","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"duration","type":"uint256"},{"internalType":"bytes32","name":"secret","type":"bytes32"}],"name":"register","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"duration","type":"uint256"},{"internalType":"bytes32","name":"secret","type":"bytes32"},{"internalType":"address","name":"resolver","type":"address"},{"internalType":"address","name":"addr","type":"address"}],"name":"registerWithConfig","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"uint256","name":"duration","type":"uint256"}],"name":"renew","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[],"name":"renounceOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"uint256","name":"duration","type":"uint256"}],"name":"rentPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"_minCommitmentAge","type":"uint256"},{"internalType":"uint256","name":"_maxCommitmentAge","type":"uint256"}],"name":"setCommitmentAges","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"contract PriceOracle","name":"_prices","type":"address"}],"name":"setPriceOracle","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes4","name":"interfaceID","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"string","name":"name","type":"string"}],"name":"valid","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":false,"inputs":[],"name":"withdraw","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"}]'),o=n(2956),l=n(6796),u=n(7647),c=n(6482),p=n(5262),m=n(903),d=function(){var t=this,e=t._self._c;return e("div",[t.isLoading||t.committed||t.registered?!t.isLoading||t.committed||t.registered?t.isLoading||!t.committed||t.registered?e("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v(" Congraluations! You've succesfully registered "),e("b",[t._v(t._s(t.name)+".eth")]),t._v("! ")]):e("div",[e("button",{staticClass:"btn btn-lg btn-success",attrs:{type:"button"},on:{click:function(e){return t.register()}}},[t._v(" Register ")])]):e("div",[t._m(0)]):e("div",[e("button",{staticClass:"btn btn-lg btn-primary mb-3",attrs:{type:"button"},on:{click:t.commit}},[t._v(" Commit ")])])])},y=[function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn btn-lg btn-secondary",attrs:{type:"button",disabled:""}},[e("span",{staticClass:"spinner-grow spinner-grow-sm",attrs:{role:"status","aria-hidden":"true"}}),t._v(" Please Wait... ")])}],f={name:"LoadingButton",props:["isLoading","committed","registered","commit","register","name"]},b=f,h=n(1001),g=(0,h.Z)(b,d,y,!1,null,null,null),v=g.exports;const w="0x283Af0B28c62C092C9727F1Ee09c02CA627EB7F5",T="0x4976fb03C32e5B8cfe2b6cCB31c09Ba78EBaBa41";var C={name:"App",components:{LoadingButton:v},data(){return{provider:null,chainId:1,account:null,input:"",name:"",price:0,days:30,isLoading:!1,committed:!1,registered:!1,secret:null,searched:!1,message:""}},created:function(){this.connectWallet()},methods:{async connectWallet(){if(await window.ethereum.enable(),Number(window.ethereum.chainId)!==this.chainId)return this.failedConnectWallet();this.provider=new o.Q(window.ethereum);const t=await this.provider.send("eth_requestAccounts");this.account=t[0]},failedConnectWallet(){this.account="Error Network, switch to Mainnet"},switchNetwork(){window?.ethereum?.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x1"}]}).then((()=>{console.log("connect"),this.connectWallet()})).catch((()=>{console.log("failed"),this.failedConnectWallet()}))},reset(){this.isLoading=!1,this.committed=!1,this.registered=!1,this.secret=null,this.searched=!1,this.message=""},async commit(){this.secret=this.randomSecret();const t=new l.CH(w,r,this.provider);let e=await t.makeCommitmentWithConfig(this.name,this.account,this.secret,T,this.account);const n=await this.provider.getSigner(),a=new l.CH(w,r,n);a.commit(e,{gasPrice:await this.provider.getGasPrice(),gasLimit:5e5,value:0}).then((async t=>{this.isLoading=!0,await t.wait(),setTimeout((()=>{this.isLoading=!1,this.committed=!0,this.registered=!1}),6e4),console.log(`${this.account} commitment made`)})).catch((t=>{console.log(`${t.reason}`)}))},async register(){const t=await this.provider.getSigner(),e=new l.CH(w,r,t);e.registerWithConfig(this.name,this.account,24*this.days*60*60,this.secret,T,this.account,{gasPrice:await this.provider.getGasPrice(),gasLimit:5e5,value:u.fi(this.price)}).then((async t=>{await t.wait(),console.log(`${this.account} register made`),this.isLoading=!1,this.committed=!0,this.registered=!0})).catch((t=>{console.log(`${t.reason}`)}))},randomSecret(){return c.Dv(p.O(32))},async getRentPrice(){const t=new l.CH(w,r,this.provider);this.price=(1.2*await t.rentPrice(this.name,24*this.days*60*60)/1e18).toFixed(6)},getInput(t){let e=t.target.value;e>0&&(this.days=e,this.getRentPrice())},async checkName(){this.reset(),this.name=this.input.toLowerCase();let t=(0,m.G)(this.name);if(t){const t=new l.CH(w,r,this.provider);let e=await t.available(this.name);e?(this.getRentPrice(),this.searched=!0):this.message=`${this.name}.eth is NOT available!`}else this.message=`${this.name}.eth is NOT a valid name!`}}},_=C,x=(0,h.Z)(_,i,s,!1,null,null,null),O=x.exports;a.ZP.config.productionTip=!1,new a.ZP({render:t=>t(O)}).$mount("#app")},6601:function(){}},e={};function n(a){var i=e[a];if(void 0!==i)return i.exports;var s=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.m=t,function(){n.amdO={}}(),function(){var t=[];n.O=function(e,a,i,s){if(!a){var r=1/0;for(c=0;c<t.length;c++){a=t[c][0],i=t[c][1],s=t[c][2];for(var o=!0,l=0;l<a.length;l++)(!1&s||r>=s)&&Object.keys(n.O).every((function(t){return n.O[t](a[l])}))?a.splice(l--,1):(o=!1,s<r&&(r=s));if(o){t.splice(c--,1);var u=i();void 0!==u&&(e=u)}}return e}s=s||0;for(var c=t.length;c>0&&t[c-1][2]>s;c--)t[c]=t[c-1];t[c]=[a,i,s]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,a){var i,s,r=a[0],o=a[1],l=a[2],u=0;if(r.some((function(e){return 0!==t[e]}))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)var c=l(n)}for(e&&e(a);u<r.length;u++)s=r[u],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return n.O(c)},a=self["webpackChunkens_registration_vue2"]=self["webpackChunkens_registration_vue2"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(8225)}));a=n.O(a)})();
//# sourceMappingURL=app.e630e9ae.js.map